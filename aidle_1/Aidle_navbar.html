<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>navbar_12</title>
    <style>

        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            padding: 10px;
        }


        body {
            flex-shrink: 0;
            background: var(--comp-color-background-dimmed, rgba(22, 26, 29, 0.50));
            height: 2000px; 
            padding-top: 60px;
        }

        nav {
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-shrink: 0;
            padding: 10px;
        }
        
        .dropdownmenu ul {
            display: flex;
            align-items: center;
            gap: 80px;
        }

        .dropdownmenu li {
            color: var(--comp-color-text-label-inverse, #FFF);
            font-feature-settings: 'clig' off, 'liga' off;
            font-family: NanumSquareRound;
            font-size: 18px;
            font-style: normal;
            font-weight: 800;
            line-height: 24px;
            display: inline-block;
            position: relative;
        }

        .dropdownmenu li > a {
            color: var(--comp-color-text-label-inverse, #FFF);
            font-feature-settings: 'clig' off, 'liga' off;
            font-family: NanumSquareRound;
            font-size: 18px;
            font-style: normal;
            font-weight: 800;
            line-height: 24px;
            text-decoration: none;
        }

        .down {
            display: flex;
            width: 160px;
            height: 48px;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            gap: 10px;
            border-radius: var(--comp-radius-button-primary, 12px);
            background: var(--comp-color-background-button-primary, #7070FF);
            cursor: pointer;
        }

        .down img {
            width: 20px;
            height: 20px;
        }

        .logo a {
            text-decoration: initial;
        }
        .logo span {
            font-size: 0;
            line-height: 0;
            color: transparent;
            text-indent: -99999px;
        }
        .logo img {
            width: 131.556px;
            height: 32px;
            flex-shrink: 0;
        }

        .submenu {
            display: none; 
            width: 184px;
            height: 280px;
            padding: 12px;
            flex-direction: column;
            align-items: flex-start; 
            gap: 16px;
            flex-shrink: 0;
            border-radius: 12px;
            border: 1px solid #D8D8D8;
            background: #FFF;
            position: absolute; 
            top: 100%;
            right: -25px;
        }

        .submenu dd {
            display: flex;
            height: 48px;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 10px;
            flex-shrink: 0;
            align-self: stretch;
            text-decoration: none;
        }

        .submenu li {
            display: inline-block;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .submenu dt {
            color: #000;
            text-align: left;
            font-feature-settings: 'clig' off, 'liga' off;
            font-family: Pretendard;
            font-size: 16px;
            font-style: normal;
            font-weight: 600;
            line-height: 38px;
        }

        .submenu dd {
            text-align: center;
            font-feature-settings: 'clig' off, 'liga' off;
            font-family: Pretendard;
            font-size: 16px;
            font-style: normal;
            font-weight: 600;
            line-height: 24px; 
            color:#7070FF;
            margin: initial;
            border-radius: var(--comp-radius-button-primary, 12px);
            background: var(--comp-color-background-button-secondary, #EBEBFF);
        }
        .submenu dd + dd {
            margin-top: 10px;
        }
        .submenu dd a:-webkit-any-link {
            color: inherit;
            text-decoration: none;
        }

        .dropdownmenu.is-open .submenu {
            display: block;
        }

        .active {
            /*--background-color: #c0f139*/
            flex-shrink: 0;
        }

        
        footer {
            position: fixed;
            left: 0;
            bottom: 0;
            width: 100%;
            background: var(--comp-color-background-dimmed, rgba(22, 26, 29, 0.50));
            text-align: center;
            padding: 10px;
        }


    </style>
</head>
<body>
  <div class="navbar">
    <nav class="dropdownmenu">
        <h1 class="logo">
            <a href="#">
                <span>로고</span>
                <img src="logo1.svg" alt="logo">
            </a>
        </h1>
        <ul>
            <li id="menu-service"><a href="#">서비스 소개</a></li>
            <li id="menu-guide"><a href="#">사용 가이드</a></li>
            <li id="menu-contact"><a href="#">고객센터</a></li>
            <li>
                <a class="down" onclick="toggleSubMenu()">
                    <span class="down-text">앱 다운로드</span>
                    <img src="decrease.svg" alt="down">
                </a>
                <dl class="submenu">
                    <dt class="Android">Android</dt>
                    <dd><a href="#">보호자용</a></dd>
                    <dd><a href="#">자녀용</a></dd>
                    <dt class="IOS">IOS</dt>
                    <dd><a href="#">보호자용</a></dd>
                </dl>
            </li>
        </ul>
    </nav>
  </div>  
    <footer>
        <p>© 2023 Aidle project</p>
    </footer>
    
    <script>
        function toggleSubMenu() {
            var dropdownMenu = document.querySelector(".dropdownmenu");
            dropdownMenu.classList.toggle("is-open");
        }

        var menuItems = document.querySelectorAll(".dropdownmenu ul li ");
        for (var i = 0; i < menuItems.length; i++) {
            menuItems[i].addEventListener("click", function () {
                for (var j = 0; j < menuItems.length; j++) {
                    menuItems[j].classList.remove("active");
                }
                this.classList.add("active");
                
                var footer = document.querySelector("footer");
                var activeMenuItem = this.querySelector("a");
                if (activeMenuItem) {
                    footer.innerHTML = "© 2023 Aidle project | 현재 페이지: " + activeMenuItem.textContent;
                } else {
                    footer.innerHTML = "© 2023 Aidle project";
                }
            });
        }
        
        var subMenuItems = document.querySelectorAll(".submenu dd a");
        for (var i = 0; i < subMenuItems.length; i++) {
            subMenuItems[i].addEventListener("click", function (event) {
                for (var j = 0; j < subMenuItems.length; j++) {
                    subMenuItems[j].classList.remove("active");
                }
                this.classList.add("active");
                event.stopPropagation();
                
                var footer = document.querySelector("footer");
                var activeMenuItem = this;
                if (activeMenuItem) {
                    footer.innerHTML = "© 2023 Aidle project | 현재 페이지: " + activeMenuItem.textContent;
                } else {
                    footer.innerHTML = "© 2023 Aidle project";
                }
            });
        }

        function handleLogoClick() {
            var footer = document.querySelector("footer");
            footer.innerHTML = "© 2023 Aidle project | 현재 페이지: 로고";
        }

        var logo = document.querySelector(".logo a");
        logo.addEventListener("click", handleLogoClick);


        function changeFontColor() {
            // 현재 스크롤 위치 가져오기
            var scrollPosition = window.scrollY || document.documentElement.scrollTop;

            // 배경색에 따라 폰트 색상 변경
            var backgroundColor = getComputedStyle(document.body).backgroundColor;
            var isLightBackground = isLightColor(backgroundColor);

            for (var i = 0; i < menuItems.length; i++) {
                menuItems[i].style.color = isLightBackground ? "#000" : "#FFF";
            }
            footer.style.color = isLightBackground ? "#000" : "#FFF";
        }

        function isLightColor(backgroundColor) {
            // 배경색이 밝은 색인지 어두운 색인지 확인
            // 여기에서는 간단하게 밝은 배경 색을 기준으로 판단합니다.
            // 보다 정교한 색상 판단을 위해서는 더 복잡한 로직이 필요할 수 있습니다.
            var hexColor = backgroundColor.substring(1); // # 제거
            var r = parseInt(hexColor.substring(0, 2), 16);
            var g = parseInt(hexColor.substring(2, 4), 16);
            var b = parseInt(hexColor.substring(4, 6), 16);
            var brightness = (r * 299 + g * 587 + b * 114) / 1000;
            return brightness > 128; // 밝은 배경이면 true, 어두운 배경이면 false 반환
        }

        // 스크롤 이벤트 감지
        window.addEventListener("scroll", changeFontColor);

        // 페이지 로드 시 초기 폰트 색상 설정
        changeFontColor();


    </script>
</body>
</html>
